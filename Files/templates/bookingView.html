{% extends "baseHTML.html" %}

{% block title %}Booking View{% endblock %}
{% block head %}
    {{super()}}
{% endblock %}

{% block content %}
<div class="container ps-md-0">
    <div class="row d-flex justify-content-center text-center">
      <div>		

        {% if message %}
            {% if alert_type == "success" %}
                <div class="alert alert-success alert-dismissible fade show mt-4 pt-4" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                </div>
            {% else %}
                <div class="alert alert-danger alert-dismissible fade show mt-4 pt-4" role="alert"> 
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                </div>
            {% endif %}
        {% endif %}

        <h1 class="pt-4">Here Are Your Current Bookings {{ user_id }}</h1>   
      </div>
      <div>

        <form action="/delete-booking" method="POST">
            <table class="table">
              <thead>
                <tr>
                  <th></th>
                  <th>Booking ID</th>
                  <th>Start Date</th>
                  <th>End Date</th>
                  <th>Start Location</th>
                  <th>End Location</th>
                  <th>Start Time</th>
                  <th>End Time</th>
                  <th>Passenger No.</th>
                  <th>Book Date</th>
                  <th>Class</th>
                  <th>Booking Cost</th>
                </tr>
              </thead>
              <tbody>
                {% for booking in bookings %}
                <tr>
                  <td><input type="radio" name="booking_id" value="{{ booking[0] }}"></td>
                  <td>{{ booking[0] }}</td>
                  <td>{{ booking[3] }}</td>
                  <td>{{ booking[4] }}</td>
                  <td>{{ booking[5] }}</td>
                  <td>{{ booking[6] }}</td>
                  <td>{{ booking[7] }}</td>
                  <td>{{ booking[8] }}</td>
                  <td>{{ booking[9] }}</td>
                  <td>{{ booking[10] }}</td>
                  <td>{{ booking[12] }}</td>
                  <td> Broken</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
            <br>
            <input type="hidden" name="user_id" value="{{ user_id }}">
            <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this booking?')">Delete Booking</button>
          </form>

      </div>

    </div>
  </div>

{% endblock %}

{% block scripts %}
    {{ super() }}
{% endblock %}
